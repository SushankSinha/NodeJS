# Node.js Module Exports

Quick guide to exposing functionality in Node.js using `module.exports` and `exports`.

## Table of Contents
- [Node.js Module Exports](#nodejs-module-exports)
  - [Table of Contents](#table-of-contents)
  - [1. Import Modules](#1-import-modules)
    - [require](#require)
    - [exports](#exports)
  - [NPM](#npm)
    - [Installing all dependencies](#installing-all-dependencies)
    - [Installing a single package](#installing-a-single-package)
    - [Updating packages](#updating-packages)
  - [Where does npm install the packages](#where-does-npm-install-the-packages)
  - [Package.json file](#packagejson-file)
    - [File structure](#file-structure)
    - [Properties breakdown](#properties-breakdown)
    - [Package versions](#package-versions)
    - [Package-lock.json file](#package-lockjson-file)
    - [Find the installed version](#find-the-installed-version)
    - [Semantic versioning rules](#semantic-versioning-rules)
  - [Versioning Rules](#versioning-rules)
  - [Version Specifiers in `package.json`](#version-specifiers-in-packagejson)
    - [Combining Notations](#combining-notations)
    - [Uninstalling npm packages](#uninstalling-npm-packages)
    - [NPX](#npx)

## 1. Import Modules

### require

```javascript
const library = require('./library');
```

### exports

- By assigning it to object module.exports

```javascript
const car = {
brand: 'Ford',
model: 'Fiesta'
}
module.exports = car
```

- Second one is to add the exported object as a property of exports

```javascript
const car = {
brand: 'Ford',
model: 'Fiesta'
}
exports.car = car

//or

exports.car = {
brand: 'Ford',
model: 'Fiesta'
}

//for importing

const items = require('./items')
items.car
// or
const car = require('./items').car

//The first exposes the object it points to. The latter exposes the properties of the object it points to.
```
## NPM

- Package manager for node

### Installing all dependencies
```javascript
npm install
```

### Installing a single package
```javascript
npm install <package-name>

// --save => package.json file dependencies
// --save-dev => package.json file devDependencies
```

### Updating packages

- All packages
```javascript 
npm update
```
- A single package
```javascript 
npm update <package-name>
```

## Where does npm install the packages

- local install

```javascript
npm install lodash
```
- global install

```javascript
npm install -g lodash

//global package location

npm root -g
```

##  Package.json file

### File structure

- it should follow JSON format.

### Properties breakdown

- **name**

```javascript
//Sets the package name.
"name": "test-project"
// <214 chars | only lowercase, hyphens, or underscores allowed
```

- **author**

```javascript
{
  // Author of the package
  "author": "Sushank Sinha <sushanksinha.5252@gmail.com> (https://sushanksinha.netlify.app)",

  //or
  /*
{
"author": {
"name": "Sushank Sinha",
"email": "sushanksinha.5252@gmail.com",
"url": "(https://sushanksinha.netlify.app)"
 }
}

*/

  // Contributors
  "contributors": [
    "Sushank Sinha <sushanksinha.5252@gmail.com> (https://sushanksinha.netlify.app)"
  ],
  // or as objects
  /*
  "contributors": [
    {
      "name": "Sushank Sinha",
      "email": "sushanksinha.5252@gmail.com",
      "url": "https://sushanksinha.netlify.app"
    }
  ],
  */

  // Link to bugs/issues
  "bugs": "https://github.com/sushanksinha/package/issues",

  // Package homepage
  "homepage": "https://sushanksinha.netlify.app/package",

  // Version (semver: major.minor.patch)
  "version": "1.0.0",

  // License
  "license": "MIT",

  // Keywords for discoverability
  "keywords": [
    "email",
    "machine learning",
    "ai"
  ],

  // Short description
  "description": "A package to work with strings",

  // Repository location
  "repository": {
    "type": "git",
    "url": "https://github.com/sushanksinha/testing.git"
  },

  // Entry point of the package
  "main": "src/main.js",

  // Prevent accidental npm publish
  "private": true,

  // Node scripts
  "scripts": {
    "dev": "webpack-dev-server --inline --progress --config build/webpack.dev.conf.js",
    "start": "npm run dev",
    "unit": "jest --config test/unit/jest.conf.js --coverage",
    "test": "npm run unit",
    "lint": "eslint --ext .js,.vue src test/unit",
    "build": "node build/build.js"
  },

  // Runtime dependencies
  "dependencies": {
    "vue": "^2.5.2"
  },

  // Development dependencies
  "devDependencies": {
    "autoprefixer": "^7.1.2",
    "babel-core": "^6.22.1"
  },

  // Supported Node.js and package manager versions
  "engines": {
    "node": ">= 6.0.0",
    "npm": ">= 3.0.0",
    "yarn": "^0.13.0"
  },

  // Browsers to support (for Babel, Autoprefixer, etc.)
  "browserslist": [
    "> 1%",
    "last 2 versions",
    "not ie <= 8"
  ]
}
```

### Package versions

In `package.json`, you might see dependency version numbers like `~3.0.0` or `^0.13.0`. These symbols determine which updates your package will accept from that dependency.

Semantic Versioning (SemVer) format: `major.minor.patch`  
- major: breaking changes  
- minor: backward-compatible features  
- patch: bug fixes  

Version Specifiers:

`~` : Accept only patch releases, e.g. "~0.13.0" accepts 0.13.1 but NOT 0.14.0  
`^` : Accept minor and patch releases, e.g. "^0.13.0" accepts 0.13.1, 0.14.0 but NOT 1.0.0  
`*` : Accept all updates including major upgrades, e.g. "*"  
`>` : Accept any version higher than specified, e.g. ">1.2.3"  
`>=` : Accept any version equal or higher than specified, e.g. ">=1.2.3"  
`<` : Accept any version lower than specified, e.g. "<2.0.0"  
`<=` : Accept any version equal or lower than specified, e.g. "<=1.5.0"  
`No symbol` : Accept only the exact version, e.g. "1.2.3"  
`latest` : Always use the latest version available  

### Package-lock.json file

```javascript
//
```

### Find the installed version

```javascript
npm list
nodejs@1.0.0 C:\Users\Sushank Sinha\OneDrive\Desktop\NodeJS
├── @inquirer/prompts@7.8.6
├── cli-progress@3.12.0
└── progress@2.0.3
```

- to view latest version of any package
```javascript
npm view [package_name] version
```
- install specific vsion
```javascript
npm install <package>@<version>
```
- check previous versions
```javascript
npm view <package> versions
```
- to discover new releases of the packages, you run
```javascript
npm outdated
```

### Semantic versioning rules

Semantic Versioning is a convention used in Node.js and other programming languages to give meaning to version numbers. All versions follow the format: `x.y.z`  
- **x** = major version  
- **y** = minor version  
- **z** = patch version  

## Versioning Rules

- **Major version** (`x`) increases when you make incompatible API changes.  
- **Minor version** (`y`) increases when you add functionality in a backward-compatible manner.  
- **Patch version** (`z`) increases when you make backward-compatible bug fixes.  

Following SemVer is important because it allows npm to safely update packages according to specified rules.

## Version Specifiers in `package.json`

- `^` : Accept **patch and minor releases**  
  Example: `^0.13.0` accepts `0.13.1`, `0.14.0`, etc., but not `1.0.0`.

- `~` : Accept **patch releases only**  
  Example: `~0.13.0` accepts `0.13.1` but not `0.14.0`.

- `>` : Accept any version **higher** than the specified one.  
- `>=` : Accept any version **equal or higher**.  
- `<` : Accept any version **lower** than the specified one.  
- `<=` : Accept any version **equal or lower**.  
- `=` : Accept **exactly** the specified version.  
- `-` : Accept a **range** of versions, e.g., `2.1.0 - 2.6.2`.  
- `||` : Combine version sets, e.g., `<2.1 || >2.6`.

### Combining Notations

You can combine rules, for example:  
```json
"1.0.0 || >=1.1.0 <1.2.0"
```
This means either use `1.0.0` or any version from `1.1.0` up but lower than `1.2.0`

### Uninstalling npm packages

```javascript
npm uninstall <package-name>

//for devDependencies
npm uninstall -S <package-name>
npm uninstall -D <package-name>

//for global package
npm uninstall -g <package-name>

```

### NPX

- **What is npx?**
  - `npx` is a command-line tool for running Node.js packages, introduced in npm 5.2 (July 2017)[web:23][web:22][web:27].
  - Lets you execute packages from the npm registry without needing to install them globally[web:22][web:26].

- **Why is npx useful?**
  - Avoids global installs: Runs commands without polluting global scope[web:23].
  - Easily runs project-local binaries or specific package versions using `npx <pkg>@version`[web:23].
  - Supports one-off command execution and quick experimentation[web:26][web:27].

- **Classic usage examples**
  - Run CLI tools without installing:
    - `npx cowsay "Hello"` (prints a talking cow)
    - `npx create-react-app my-app` (setup new React project)
    - `npx vue create myvue-app` (setup new Vue.js project)[web:23].
  - Run with specific package versions:
    - `npx node@6 -v` (run Node 6.x)
    - `npx node@8 -v` (run Node 8.x)
  - Run code from a remote gist:
    - `npx https://gist.github.com/username/gistid`[web:23].

- **How does it work?**
  - Automatically downloads the requested package (if not present), executes it, and then removes temporary files[web:23][web:27].
  - Works with local binaries and remote resources[web:23].
  - Handy for running scripts, scaffolding projects, or testing CLI tools[web:27][web:26].

- **Cautions**
  - Use care when running remote code or unknown scripts—security risk[web:23].


